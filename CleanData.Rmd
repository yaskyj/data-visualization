---
title: "Data Visualization Manipulation"
author: "Justin Rogers"
date: "9/4/2017"
output: html_document
---

## Importing and cleaning files

```{r}
### Initial import of files
lit <- read_excel('literacy.xlsx')
gdp <- read_excel('gdp.xlsx')
pop <- read_excel('population.xlsx')
regions <- read_excel('regions.xlsx')

### Rename columns to remove decimal points
colnames(lit) <- substr(names(lit), 1, 4)
colnames(gdp) <- substr(names(gdp), 1, 4)
colnames(pop) <- substr(names(pop), 1, 4)

### Remove colunms other than 2001 through 2011
lit <- lit[-c(2:27)]
gdp <- gdp[-c(2:42)]
pop <- pop[-c(2:67, 79:82)]

### Remove all other columns not needed to match country to region
regions <- regions[-c(3:84)]

### Rename the first columns in order to easily match with regions
colnames(lit)[1] <- "Country"
colnames(gdp)[1] <- "Country"
colnames(pop)[1] <- "Country"

### Make one row for year column
lit <- gather(lit, "Year", "Literacy", 2:12)
gdp <- gather(gdp, "Year", "GDP", 2:12)
pop <- gather(pop, "Year", "Population", 2:12)

### Merge all data into one table
data <- merge(lit, regions, by="Country")
data <- merge(data, gdp, by=c("Country", "Year"))
data <- merge(data, pop, by=c("Country", "Year"))
```